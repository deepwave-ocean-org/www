htmx.onLoad(function(){console.log("htmx loaded bleeb blob"),console.log(window.init_masonry),window.init_masonry()}),window.init_masonry=function(){console.log("init_masonry");var e=document.querySelector(".masonry-grid"),o=new Masonry(e,{itemSelector:".masonry-item",percentPosition:!0,columnWidth:".masonry-item",gutter:24});function t(){const t=document.querySelectorAll(".masonry-item"),n=e.offsetWidth/2;t.forEach(e=>{const s=e.getBoundingClientRect(),t=e.querySelector(".timeline-dot"),o=s.left+s.width/2,i=o<n;i?(t.style.right="calc(-2.5 * 4px - 2%)",t.style.left="auto",t.style.top="24px",t.style.opacity="1"):(t.style.left="calc(-2.5 * 4px - 2%)",t.style.right="auto",t.style.top="24px",t.style.opacity="1")})}t(),imagesLoaded(e).on("always",function(){o.layout(),setTimeout(t,500)});const n=document.querySelectorAll(".timeline-card");n.forEach(e=>{e.classList.add("animation-ready")});const s=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),s.unobserve(e.target))})},{threshold:.15,rootMargin:"0px 0px -50px 0px"});n.forEach(e=>{s.observe(e)})},document.addEventListener("DOMContentLoaded",function(){window.init_masonry()})